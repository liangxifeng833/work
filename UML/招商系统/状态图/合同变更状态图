@startuml
title 合同变更状态图

[*] -> 变更物业资源: 选择状态 = 空闲并且未预租
	变更物业资源: 新物业资源是否预租 = 是
变更物业资源 -> 变更合同
[*] --> 变更合同:已生效的合同
	变更合同: 新增一份合同数据(如果已有未审数据则修改)
	变更合同: 合同状态 = 未知

变更合同 -> 提审
	 提审: 通知表状态 = 未审核
	 提审: 合同状态 = 待审

	 
提审 --> 审核通过 
	审核通过: 通知表状态 = 已审核
	审核通过: 原合同状态 = 已变更	
	审核通过: 新合同状态 = 已生效	
	审核通过: 原物业资源状态 = 空闲		
	审核通过: 新物业资源是否预租 = 否	
	审核通过: 新物业资源状态 = 在租		

提审 --> 审核不通过
	审核不通过: 合同表状态不变
	
审核通过 --> [*]


@enduml