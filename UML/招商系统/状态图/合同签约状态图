@startuml
title 合同签约状态图

[*] --> 选择物业资源:手动签约
选择物业资源: 物业资源状态 = 空闲或预撤管
选择物业资源: 物业是否预租 = 否

[*] --> 选择展位:手动签约
选择展位: 展位状态 = 空闲或预撤管
选择展位: 展位是否预租 = 否

[*] --> 选择准商户
选择准商户: 准商户状态 = 未预租

选择准商户 --> 签约合同
选择物业资源 --> 签约合同
选择展位 --> 签约合同
	签约合同 : 合同表新增数据
	签约合同 : 合同状态 = 未知
	签约合同 : 物业资源是否预租 = 是
	签约合同 : 展位是否预租 = 是
	签约合同 : 准商户状态 = 已预租

签约合同 -> 提审
	提审: 合同状态 = 待审
	提审: 通知表状态 =  未审核 


提审 --> 审核通过
	审核通过: 合同状态 = 预租
	审核通过: 通知表状态 =  已审核

	
审核通过 --> 转正式合同
	转正式合同:  合同状态 = 已生效
	转正式合同 : 物业资源是否预租 = 否
	转正式合同 : 物业资源状态 =  在租
	转正式合同 : 展位是否预租 = 否
	转正式合同 : 展位状态 = 在租

转正式合同 --> [*]


@enduml